<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>

        <script src="funcoes_geral.js" charset="utf-8"></script>
        <script src="solve.js" charset="utf-8"></script>
        <script src="EstadoTabuleiro.js" charset="utf-8"></script>

        <div id="conteudo"></div>
        <style media="screen">
            .coluna {
                border : 1px solid black;
                float : left;
                padding : 10px;
                min-width : 30px;
            }

            .linha {
                clear : both;
            }


        </style>
        <script type="text/javascript">

            // Funcao sempre será executa quando que o navegador abrir
            function main(){

                // Define os monstros
                window.Vampiro = function(){};
                window.Fantasma = function(){};
                window.Zombie = function(){};

                // Define os espelhos
                // window.EspelhoParaDireita = function(){};
                // window.EspelhoParaEsquerda = function(){};
                window.tabuleiro = criarTabuleiro(4,4);
                tabuleiro[1][0] = '/';
                tabuleiro[1][3] = '\\';
                tabuleiro[2][2] = '/';
                tabuleiro[3][2] = '\\';


                console.log(getTabuleiroComoString(tabuleiro));

                document.getElementById('conteudo').innerHTML = getTabuleiroComoHTML(tabuleiro);

                // Estado atual do tabuleiro, sem nenhum monstro preenchido
                var estadoTabuleiro = window.tabuleiro;

                // Deixei como objetos para poder validar o que é em cada posicao, tipo -> if(posicaoArray typeof Vampiro) {}
                // Monstro aleatório para começar os testes
                var estoqueMonstros = {
                    vampiros : [
                        new Vampiro(),
                        new Vampiro(),
                        new Vampiro(),
                        new Vampiro()
                    ],
                    fantasmas : [
                        new Fantasma(),
                        new Fantasma(),
                        new Fantasma(),
                        new Fantasma()
                    ],
                    zombies : [
                        new Zombie(),
                        new Zombie(),
                        new Zombie(),
                        new Zombie()
                    ]
                };

                var estoqueMonstrosRecursao = Object.assign({}, estoqueMonstros);
                var solucaoInicialComVampiro = window.solve(new EstadoTabuleiro(estadoTabuleiro, estoqueMonstrosRecursao.vampiros.pop()), estoqueMonstrosRecursao);

                var estoqueMonstrosRecursao = Object.assign({}, estoqueMonstros);
                var solucaoInicialComFantasma = window.solve(new EstadoTabuleiro(estadoTabuleiro, estoqueMonstrosRecursao.fantasmas.pop()), estoqueMonstrosRecursao);

                var estoqueMonstrosRecursao = Object.assign({}, estoqueMonstros);
                var solucaoInicialComZombie = window.solve(new EstadoTabuleiro(estadoTabuleiro, estoqueMonstrosRecursao.zombies.pop()), estoqueMonstrosRecursao);

                console.log(
                    'solucaoInicialComVampiro',
                    solucaoInicialComVampiro,
                    'solucaoInicialComZombie',
                    solucaoInicialComZombie,
                    'solucaoInicialComFantasma',
                    solucaoInicialComFantasma
                );
            };

            // Executa o e tenta resolver
            main();

        </script>

        <br>
        <br>
        <br>
        <br>

        <img src="./maze.png" alt="Maze" style="width:200px;">
        <img src="./solved.png" alt="Resolvido" style="width:200px;">


    </body>
</html>
